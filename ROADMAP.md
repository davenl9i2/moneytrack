# 小金庫 (Little Treasure) - 專案現況與路線圖

## 🌟 目前功能詳細總覽 (Current Status)

### 🤖 LINE Bot (智慧核心)

#### 1. 自然語言記帳 (Predictive Recording)
- **功能**: 支援自然語言輸入，如「午餐 100」、「買飲料 50」、「發薪水 50000」。
- **特色**:
  - 自動判斷 `支出` 或 `收入`。
  - 自動推論 `分類` (如：午餐 -> 飲食)。
  - **情感回應**: 根據記帳內容給予活潑、溫暖或慶祝的回覆 (Emoji 豐富)。

#### 2. 對話式查詢 (Conversational Query)
- **功能**: 問「今天花多少？」、「上週交通費」。
- **特色**: **Story-telling Mode**。小金庫不會只丟數字，而是會像朋友一樣講故事：「今天買了手錶 $2000，還吃了漢堡...」。

#### 3. 智慧修改 (Context-Aware Modification)
- **功能**: 支援「說錯了」、「把午餐改 90」。
- **特色**: 具備上下文記憶，能從最近的對話紀錄中識別使用者想修改哪一筆，而不僅僅是修改最後一筆。

#### 4. 人格特質 (Personality)
- **設定**: 活潑、熱情、可愛的財務小幫手。
- **互動**: 支援一般閒聊 (Chat Intent)，回應具備一致的「小金庫」風格。

#### 5. 註冊引導流程
- **功能**: 
  - 新好友自動識別。
  - 引導至 LIFF 網頁進行無感註冊 (Auto-register)。
  - 確保資料庫資料完整性。

---

### 🌐 Web Dashboard (視覺化介面)

#### 1. 儀表板 (Dashboard)
- **功能**: 
  - 檢視當月總支出/收入。
  - Pie Chart (圓餅圖) 分類佔比分析。
  - 支援 `支出` / `收入` 視角切換。

#### 2. 互動操作
- **月份導航**: 左右滑動切換月份。
- **詳細清單**: 檢視每日記帳細節。
- **編輯/刪除**: 點擊列表項目即可修改或刪除。

---

## 🚀 未來前進方向建議 (Next Steps & Roadmap)

### 階段一：使用者體驗優化 (Immediate / UX)

1.  **LINE Rich Menu (圖文選單)**
    - **目前**: 使用者需打字或記住指令。
    - **建議**: 在 LINE 介面下方新增固定選單按鈕：
      - [📊 開啟儀表板]
      - [❓ 使用教學]
      - [📝 快速記帳] (點擊後填入 template)
    - **效益**: 大幅降低新手門檻。

2.  **每日/每週主動推播 (Smart Notifications)**
    - **建議**: 設定定時任務 (Cron Job)。
      - 每日 22:00 推播：「今天總共花了 $XXX，記帳辛苦了！晚安 🌙」
      - 每週日推播週報表。
    - **效益**: 增加使用者黏著度。

### 階段二：進階 AI 功能 (Short-term / AI)

1.  **圖片識別記帳 (Receipt OCR)**
    - **建議**: 整合 GPT-4o 或 Gemini Vision。
    - **情境**: 使用者拍發票/收據 -> AI 自動讀取金額、店家、品項 -> 完成記帳。
    - **效益**: 殺手級功能，極大化便利性。

2.  **預算與建議 (Budgeting & Advice)**
    - **建議**: 允許使用者設定「月預算」。
    - **互動**: 當花費接近預算時，小金庫主動提醒：「⚠️ 警告！本月預算快爆囉，省點花！」
    - **效益**: 從「紀錄」進化為「管理」。

### 階段三：平台擴展與長期規劃 (Long-term)

1.  **自訂分類管理**
    - **目前**: 依賴 AI 推論或固定分類。
    - **建議**: 在 Web端允許使用者增刪改分類 (Tag Management)。

2.  **資料匯出 (Data Export)**
    - **建議**: 產生 Excel/CSV 報表並透過 LINE 傳送給使用者。

3.  **多人共用帳本 (Group/Family Account)**
    - **建議**: 透過 LINE 群組 ID 識別，支援家庭或情侶共同記帳。

---

## 🛠️ 技術債與維護 (Tech Maintenance)

- **資料庫遷移**: 目前使用 SQLite (`dev.db`)，若使用者量大增，建議遷移至 Render 支援的 PostgreSQL 確保效能與持久性。
- **型別強化**: 確保前後端 API 介面的 TypeScript 型別完全共用，減少維護成本。
